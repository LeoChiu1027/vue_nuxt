(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{362:function(e,t,r){"use strict";var l="http://localhost:3000",n={memberSearch:l+"/member",login:"http://localhost:8080/api/login",drowpDownSelect:l+"/drowpDownSelect",memberDetail:l+"/memberDetail?userId="};t.a=n},369:function(e,t,r){var content=r(415);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(7).default)("5a217850",content,!0,{sourceMap:!1})},414:function(e,t,r){"use strict";var l=r(369);r.n(l).a},415:function(e,t,r){(e.exports=r(6)(!1)).push([e.i,".bottom30[data-v-0f0fd3f7]{margin:30px}",""])},435:function(e,t,r){"use strict";r.r(t);r(5);var l={memberDetail:{label:{name:"姓名",email:"電子信箱",addUser:"建立人員",upUser:"異動人員",phone:"電話",job:"職稱",addDate:"建立日期",upDate:"異動日期"}}},n=(r(373),r(78),r(22)),o=function(e){if(!e)return null;var t=e.split("-"),r=Object(n.a)(t,3),l=r[0],o=r[1],c=r[2];return"".concat(l-=1911,"/").concat(o,"/").concat(c)},c=r(85),m=r.n(c),d=r(362),v={name:"member-detail-table",data:function(){return{headers:[{text:"Action",align:"center",value:"action"},{text:"認證方式",align:"center",value:"domain"},{text:"帳號",align:"center",value:"userid"},{text:"帳號等級",align:"center",value:"userlvl"},{text:"帳號狀態",align:"center",value:"usersts"},{text:"角色",align:"center",value:"cmpattnvc"},{text:"備註",align:"center",value:"sysName"}],drowpDown:{domainSelects:[],levelSelects:[],statusSelects:[],roleSelects:[]},roleData:[{domain:"",account:"",userlvl:"",usersts:"",userrole:"",userinfo:""}]}},methods:{setCriteria:function(param){this.roleData=param},addAccount:function(){this.roleData.push({})},queryDrowpSelect:function(){var e=this;m.a.get(d.a.drowpDownSelect).then((function(t){e.drowpDown.levelSelects=t.data.userlvl,e.drowpDown.domainSelects=t.data.domain,e.drowpDown.statusSelects=t.data.usersts,e.drowpDown.roleSelects=t.data.userrole})).catch((function(t){console.log(t),e.errored=!0})).finally((function(){return e.loading=!1}))},deleteAccount:function(e){var t=this.roleDate.indexOf(e);this.roleDate.splice(t,1)}},mounted:function(){this.queryDrowpSelect()}},f=(r(414),r(24)),x=r(35),h=r.n(x),D=r(349),w=r(347),_=r(345),k=r(434),S=r(372),C=r(126),y=r(375),$=r(429),component=Object(f.a)(v,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-card",[r("v-btn",{staticClass:"bottom30",attrs:{color:"primary",dark:""},on:{click:e.addAccount}},[e._v("新增列表")]),e._v(" "),r("v-divider"),e._v(" "),r("v-card-text",{staticClass:"pa-0"},[r("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.roleData,"disable-sort":"","items-per-page":5},scopedSlots:e._u([{key:"item",fn:function(t){return[r("tr",[r("td",{staticClass:"text-xs-right",attrs:{align:"center"}},[r("a",{on:{click:function(r){return e.deleteAccount(t.item)}}},[r("v-icon",[e._v("mdi-delete-forever")])],1)]),e._v(" "),r("td",{staticClass:"text-xs-right"},[r("v-select",{attrs:{items:e.drowpDown.domainSelects,"item-text":"text","item-value":"value","single-line":""},model:{value:t.item.domain,callback:function(r){e.$set(t.item,"domain",r)},expression:"props.item.domain"}})],1),e._v(" "),r("td",{staticClass:"text-xs-right"},[r("v-text-field",{attrs:{"single-line":"",type:"text","hide-details":""},model:{value:t.item.account,callback:function(r){e.$set(t.item,"account",r)},expression:"props.item.account"}})],1),e._v(" "),r("td",{staticClass:"text-xs-right"},[r("v-select",{attrs:{"item-text":"text","item-value":"value",items:e.drowpDown.levelSelects,"single-line":""},model:{value:t.item.userlvl,callback:function(r){e.$set(t.item,"userlvl",r)},expression:"props.item.userlvl"}})],1),e._v(" "),r("td",{staticClass:"text-xs-right"},[r("v-select",{attrs:{"item-text":"text","item-value":"value",items:e.drowpDown.statusSelects,"single-line":""},model:{value:t.item.usersts,callback:function(r){e.$set(t.item,"usersts",r)},expression:"props.item.usersts"}})],1),e._v(" "),r("td",{staticClass:"text-xs-right"},[r("v-select",{attrs:{"item-text":"text","item-value":"value",items:e.drowpDown.roleSelects,"single-line":""},model:{value:t.item.userrole,callback:function(r){e.$set(t.item,"userrole",r)},expression:"props.item.userrole"}})],1),e._v(" "),r("td",{staticClass:"text-xs-right"},[r("v-text-field",{attrs:{type:"text","hide-details":""},model:{value:t.item.userinfo,callback:function(r){e.$set(t.item,"userinfo",r)},expression:"props.item.userinfo"}})],1)])]}}])}),e._v(" "),r("v-divider")],1)],1)}),[],!1,null,"0f0fd3f7",null),V=component.exports;h()(component,{VBtn:D.a,VCard:w.a,VCardText:_.b,VDataTable:k.a,VDivider:S.a,VIcon:C.a,VSelect:y.a,VTextField:$.a});var U={middleware:"routerAuth",layout:"audit/template",components:{MemberDetailTable:V},data:function(){return{member:{name:"",email:"",addUser:"",upUser:"",phone:"",job:"",addDate:(new Date).toISOString().substr(0,10),upDate:(new Date).toISOString().substr(0,10),roleData:[]},menu1:!1,menu2:!1,label:l.memberDetail.label,rules:{required:function(e){return!!e||"Required."},email:function(e){return/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)||"Invalid e-mail."}}}},computed:{computedDate1Formatted:function(){return o(this.member.addDate)},computedDate2Formatted:function(){return o(this.member.addDate)}},methods:{save:function(){var e=this.$refs.txnTable;this.member.roleData=e.roleData,console.log(this.member)}},mounted:function(){var e=this,t=this.$refs.txnTable,r=this.$router.currentRoute.query.userId;null!=r&&m.a.get(d.a.memberDetail+r).then((function(r){e.member=r.data[0].member,t.setCriteria(r.data[0].member.roleData)})).catch((function(t){console.log(t),e.errored=!0})).finally((function(){return e.loading=!1}))}},F=r(380),j=r(355),A=r(433),T=r(383),I=r(348),O=r(385),M=Object(f.a)(U,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("v-container",{attrs:{"grid-list-lg":"",fluid:""}},[r("v-row",{staticClass:"grey lighten-5"},[r("v-col",{attrs:{cols:"12"}},[r("v-card",{staticClass:"ma-3 pa-6",attrs:{outlined:""}},[r("v-btn",{attrs:{color:"primary",dark:""},on:{click:e.save}},[e._v("儲存")]),e._v(" "),r("v-btn",{attrs:{color:"primary",dark:""}},[e._v("取消")]),e._v(" "),r("v-btn",{attrs:{color:"red",dark:""}},[e._v("刪除")])],1)],1)],1),e._v(" "),r("v-row",{staticClass:"grey lighten-5"},[r("v-col",{attrs:{cols:"6"}},[r("v-card",{staticClass:"ma-3 pa-6",attrs:{shaped:"",tile:""}},[r("v-form",{ref:"form"},[r("v-text-field",{attrs:{label:e.label.name,rules:[e.rules.required],required:""},model:{value:e.member.name,callback:function(t){e.$set(e.member,"name",t)},expression:"member.name"}}),e._v(" "),r("v-text-field",{attrs:{rules:[e.rules.required,e.rules.email],label:e.label.email,required:""},model:{value:e.member.email,callback:function(t){e.$set(e.member,"email",t)},expression:"member.email"}}),e._v(" "),r("v-text-field",{attrs:{rules:[e.rules.required],label:e.label.addUser,required:""},model:{value:e.member.addUser,callback:function(t){e.$set(e.member,"addUser",t)},expression:"member.addUser"}}),e._v(" "),r("v-text-field",{attrs:{rules:[e.rules.required],label:e.label.upUser,required:""},model:{value:e.member.upUser,callback:function(t){e.$set(e.member,"upUser",t)},expression:"member.upUser"}})],1)],1)],1),e._v(" "),r("v-col",{attrs:{cols:"6"}},[r("v-card",{staticClass:"ma-3 pa-6",attrs:{shaped:"",tile:""}},[r("v-form",{ref:"form"},[r("v-text-field",{attrs:{rules:[e.rules.required],label:e.label.phone,required:""},model:{value:e.member.phone,callback:function(t){e.$set(e.member,"phone",t)},expression:"member.phone"}}),e._v(" "),r("v-text-field",{attrs:{rules:[e.rules.required],label:e.label.job,required:""},model:{value:e.member.job,callback:function(t){e.$set(e.member,"job",t)},expression:"member.job"}}),e._v(" "),r("v-menu",{ref:"menu1",attrs:{"close-on-content-click":!1,transition:"scale-transition","offset-y":"","nudge-right":40,"min-width":"290px"},scopedSlots:e._u([{key:"activator",fn:function(t){var l=t.on;return[r("v-text-field",e._g({attrs:{label:e.label.addDate,readonly:""},model:{value:e.computedDate1Formatted,callback:function(t){e.computedDate1Formatted=t},expression:"computedDate1Formatted"}},l))]}}]),model:{value:e.menu1,callback:function(t){e.menu1=t},expression:"menu1"}},[e._v(" "),r("v-date-picker",{attrs:{"no-title":"",scrollable:""},model:{value:e.member.addDate,callback:function(t){e.$set(e.member,"addDate",t)},expression:"member.addDate"}})],1),e._v(" "),r("v-menu",{ref:"menu2",attrs:{"close-on-content-click":!1,transition:"scale-transition","offset-y":"","nudge-right":40,"min-width":"290px"},scopedSlots:e._u([{key:"activator",fn:function(t){var l=t.on;return[r("v-text-field",e._g({attrs:{label:e.label.upDate,readonly:""},model:{value:e.computedDate2Formatted,callback:function(t){e.computedDate2Formatted=t},expression:"computedDate2Formatted"}},l))]}}]),model:{value:e.menu2,callback:function(t){e.menu2=t},expression:"menu2"}},[e._v(" "),r("v-date-picker",{attrs:{"no-title":"",scrollable:""},model:{value:e.member.upDate,callback:function(t){e.$set(e.member,"upDate",t)},expression:"member.upDate"}})],1)],1)],1)],1)],1),e._v(" "),r("v-row",{staticClass:"grey lighten-5"},[r("v-col",{attrs:{cols:"12"}},[r("v-card",{staticClass:"ma-3"},[r("member-detail-table",{ref:"txnTable"})],1)],1)],1)],1)],1)}),[],!1,null,"bdaf7916",null);t.default=M.exports;h()(M,{VBtn:D.a,VCard:w.a,VCol:F.a,VContainer:j.a,VDatePicker:A.a,VForm:T.a,VMenu:I.a,VRow:O.a,VTextField:$.a})}}]);